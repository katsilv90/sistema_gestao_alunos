<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestão de Cursos - Sistema Moderno</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" />
    <link rel="stylesheet" th:href="@{/css/alunos.css}" />
</head>
<body>
<div class="container">

    <!-- Navbar -->
    <div th:replace="fragments/layout :: navbar"></div>

    <header class="header">
        <h1>Gestão de Cursos</h1>
        <p>Sistema moderno para gerenciamento de cursos</p>
    </header>

    <!-- Seção do Formulário de Cadastro -->
    <section class="section">
        <h2>Adicionar Novo Curso</h2>
        <form th:action="@{/cursos}" th:object="${cursoModel}" method="post">
            <input type="text" th:field="*{nome}" placeholder="Nome do curso" required class="form-input">
            <button type="submit" class="btn btn-primary">Adicionar Curso</button>
        </form>
    </section>

    <!-- Seção de Pesquisa -->
    <section class="section">
        <h2>Pesquisar Cursos</h2>
        <form th:action="@{/cursos/pesquisar}" method="get">
            <input type="text" name="nome" placeholder="Digite o nome do curso"
                   th:value="${pesquisaCurso.nome}" class="form-input">
            <button type="submit" class="btn btn-primary">Pesquisar</button>
        </form>

        <!-- Lista de resultados da pesquisa (SEM botão remover) -->
        <div th:if="${resultadosPesquisa != null}">
            <h3 th:if="${!resultadosPesquisa.isEmpty()}">Resultados da Pesquisa</h3>
            <h3 th:if="${resultadosPesquisa.isEmpty()}">Nenhum curso encontrado</h3>

            <ul class="lista-alunos">
                <li class="item-aluno resultado-pesquisa" th:each="curso : ${resultadosPesquisa}">
                    <strong th:text="${curso.nome}"></strong>
                    <!-- REMOVI o botão de remover da pesquisa -->
                </li>
            </ul>
        </div>
    </section>

    <!-- Lista completa de cursos (COM botão remover) -->
    <section class="section">
        <h2>Lista de Cursos</h2>
        <ul class="lista-alunos">
            <li class="item-aluno" th:each="curso : ${cursos}">
                <span th:text="${curso.nome}"></span>
                <button type="button"
                        class="btn-remover"
                        th:data-id="${curso.id}"
                        th:data-nome="${curso.nome}"
                        title="Remover Curso">
                    Remover
                </button>
            </li>
        </ul>
    </section>

    <!-- Footer via fragmento -->
    <div th:replace="fragments/layout :: rodape"></div>
</div>

<!-- Toast e Popup (mantenha igual) -->
<div id="toast-data"
     th:data-mensagem="${toastMensagem}"
     th:data-tipo="${toastTipo}">
</div>

<div id="popup-confirmacao" class="popup-overlay" style="display: none;">
    <div class="popup-box">
        <p id="popup-mensagem"></p>
        <div class="popup-botoes">
            <button id="btn-confirmar" class="btn btn-primary">Confirmar</button>
            <button id="btn-cancelar" class="btn">Cancelar</button>
        </div>
    </div>
</div>

<script th:src="@{/js/script.js}"></script>
</body>
</html>